<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'><path d='M3 4v25h25v-25h-25zM11 28h-7v-17h7v17zM27 28h-15v-8h15v8zM27 19h-15v-8h15v8zM27 10h-23v-5h23v5z'></path></svg>">
    <title>Cutting Optimizer</title>
    <meta name="description" content="Optimize plywood cutting layouts for minimal waste">
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="error-styles.css">
    <link rel="stylesheet" href="pdf-export.css">
</head>
<body>
    <div class="app-container">
        <!-- Error Message -->
        <div id="error-message" class="error-message"></div>
        
        <!-- Language Selector -->
        <div class="language-selector">
            <button class="language-toggle" id="language-toggle" aria-label="Change Language">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <circle cx="12" cy="12" r="10"/>
                    <path d="M2 12h20M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"/>
                </svg>
                <span id="current-lang">EN</span>
                <svg class="dropdown-arrow" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M6 9l6 6 6-6"/>
                </svg>
            </button>
            <div class="language-dropdown" id="language-dropdown">
                <button class="lang-option" data-lang="en">
                    <svg class="lang-flag" width="16" height="12" viewBox="0 0 130 120" enable-background="new 0 0 130 120" xml:space="preserve">
                        <g id="Infos">
                            <rect id="BG" x="-200" y="-1350" fill="#D8D8D8" width="2180" height="1700"/>
                        </g>
                        <g id="Others">
                            <g>
                                <rect y="0" fill="#DC4437" width="130" height="13.3"/>
                                <rect y="26.7" fill="#DC4437" width="130" height="13.3"/>
                                <rect y="80" fill="#DC4437" width="130" height="13.3"/>
                                <rect y="106.7" fill="#DC4437" width="130" height="13.3"/>
                                <rect y="53.3" fill="#DC4437" width="130" height="13.3"/>
                                <rect y="13.3" fill="#FFFFFF" width="130" height="13.3"/>
                                <rect y="40" fill="#FFFFFF" width="130" height="13.3"/>
                                <rect y="93.3" fill="#FFFFFF" width="130" height="13.3"/>
                                <rect y="66.7" fill="#FFFFFF" width="130" height="13.3"/>
                                <rect y="0" fill="#2A66B7" width="70" height="66.7"/>
                                <polygon fill="#FFFFFF" points="13.5,4 15.8,8.9 21,9.7 17.2,13.6 18.1,19 13.5,16.4 8.9,19 9.8,13.6 6,9.7 11.2,8.9 		"/>
                                <polygon fill="#FFFFFF" points="34,4 36.3,8.9 41.5,9.7 37.8,13.6 38.6,19 34,16.4 29.4,19 30.2,13.6 26.5,9.7 31.7,8.9 		"/>
                                <polygon fill="#FFFFFF" points="54.5,4 56.8,8.9 62,9.7 58.2,13.6 59.1,19 54.5,16.4 49.9,19 50.8,13.6 47,9.7 52.2,8.9 		"/>
                                <polygon fill="#FFFFFF" points="24,24 26.3,28.9 31.5,29.7 27.8,33.6 28.6,39 24,36.4 19.4,39 20.2,33.6 16.5,29.7 21.7,28.9 		
                                    "/>
                                <polygon fill="#FFFFFF" points="44.5,24 46.8,28.9 52,29.7 48.2,33.6 49.1,39 44.5,36.4 39.9,39 40.8,33.6 37,29.7 42.2,28.9 		
                                    "/>
                                <polygon fill="#FFFFFF" points="13.5,45.2 15.8,50.1 21,50.9 17.2,54.7 18.1,60.2 13.5,57.6 8.9,60.2 9.8,54.7 6,50.9 11.2,50.1 
                                            "/>
                                <polygon fill="#FFFFFF" points="34,45.2 36.3,50.1 41.5,50.9 37.8,54.7 38.6,60.2 34,57.6 29.4,60.2 30.2,54.7 26.5,50.9 
                                    31.7,50.1 		"/>
                                <polygon fill="#FFFFFF" points="54.5,45.2 56.8,50.1 62,50.9 58.2,54.7 59.1,60.2 54.5,57.6 49.9,60.2 50.8,54.7 47,50.9 
                                    52.2,50.1 		"/>
                            </g>
                        </g>
                        <g id="Europe">
                            <g id="Row_5"></g>
                            <g id="Row_4"> </g>
                            <g id="Row_3"> </g>
                            <g id="Row_2"> </g>
                            <g id="Row_1"> </g>
                        </g>
                    </svg>
                    <span>English</span>
                </button>
                <button class="lang-option" data-lang="vi">
                    <svg class="lang-flag" width="16" height="12" viewBox="0 0 30 20">
                        <rect width="30" height="20" fill="#da020e"/>
                        <polygon fill="#ffff00" points="15,4 11.47,14.85 20.71,8.15 9.29,8.15 18.53,14.85"/>
                    </svg>
                    <span>Tiếng Việt</span>
                </button>
                <button class="lang-option" data-lang="ko">
                    <svg class="lang-flag" width="16" height="12" viewBox="0 0 64 64" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="iconify iconify--emojione" preserveAspectRatio="xMidYMid meet">
                        <circle cx="32" cy="32" r="30" fill="#f5f5f5">
                        </circle>
                        <path d="M23.4 33.7c2.8 1.9 6.7 1.1 8.6-1.7c1.9-2.8 5.7-3.6 8.6-1.7c2.7 1.8 3.5 5.3 2 8c3.3-5.6 1.8-12.9-3.8-16.6c-5.7-3.8-13.4-2.3-17.2 3.4c-.1.2-.2.4-.3.5c-1.4 2.9-.5 6.3 2.1 8.1" fill="#ed4c5c"></path>
                        <path d="M42.3 38.9c.1-.2.2-.4.3-.5c-.1.1-.2.3-.3.5" fill="#003478"></path>
                        <path d="M40.6 30.3c-2.8-1.9-6.7-1.1-8.6 1.7c-1.9 2.8-5.7 3.6-8.6 1.7c-2.7-1.8-3.5-5.3-2-8c-3.4 5.6-1.8 12.9 3.8 16.6c5.7 3.8 13.4 2.3 17.2-3.4c.1-.2.2-.4.3-.5c1.4-2.9.5-6.3-2.1-8.1" fill="#428bc1"></path>
                        <g fill="#3e4347">
                        <path d="M7.8 23.3L14.7 13l-.7-.5l-.7-.4l-6.9 10.3l.7.4z"></path>
                        <path d="M9.7 24.6l.7.4l6.8-10.3l-.6-.4l-.7-.5L9 24.1z"></path>
                        <path d="M18.4 15.5l-6.8 10.3l.7.5l.7.4l6.8-10.3l-.7-.4z"></path>
                        <path d="M48.5 42.5l.7.5l3.2-4.8l-.7-.5l-.7-.4l-3.2 4.8z"></path>
                        <path d="M56.2 40.7L53 45.5l.7.5l.7.4l3.2-4.8l-.7-.4z"></path>
                        <path d="M51.8 44.7l3.2-4.8l-.7-.5l-.7-.4l-3.2 4.8l.7.4z"></path>
                        <path d="M48.1 43.2l-.7-.4l-3.2 4.8l.7.4l.7.5l3.2-4.8z"></path>
                        <path d="M50.6 44.9l-.6-.4l-3.2 4.8l.6.4l.7.5l3.2-4.8z"></path>
                        <path d="M52.5 46.2L49.3 51l.7.5l.7.4l3.2-4.8l-.7-.5z"></path>
                        <path d="M7.1 41.2l-.7.4l6.9 10.3l.7-.4l.7-.5l-6.9-10.3z"></path>
                        <path d="M13.4 44.9l-.7.5l3.2 4.8l.7-.5l.6-.4l-3.2-4.8z"></path>
                        <path d="M12.3 37.7l-.7.5l6.8 10.3l.7-.5l.7-.4L13 37.3z"></path>
                        <path d="M9 39.9l3.2 4.8l.7-.5l.7-.4l-3.2-4.8l-.7.4z"></path>
                        <path d="M53.2 17.4l.7-.5l-3.2-4.8l-.7.4l-.7.5l3.2 4.8z"></path>
                        <path d="M48.1 20.8l.7-.5l-3.2-4.8l-.7.5l-.7.4l3.2 4.8z"></path>
                        <path d="M53 18.5l3.2 4.8l.7-.5l.7-.4l-3.2-4.8l-.7.4z"></path>
                        <path d="M54.3 24.6l.7-.5l-6.9-10.3l-.7.5l-.6.4L53.6 25z"></path>
                        <path d="M51.7 26.3l.7-.5l-3.2-4.8l-.7.5l-.7.4l3.2 4.8z"></path>
                        </g>
                        </svg>
                    <span>한국어</span>
                </button>
            </div>
        </div>

        <!-- Header -->
        <header class="header">
            <h1 id="app-title" data-i18n="title">Cutting Optimizer</h1>
        </header>

        <main class="main-content">
            <!-- Control Panel -->
            <section class="control-panel">
                <div class="panel-header">
                    <h2 id="control-panel-title">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M12 15C13.6569 15 15 13.6569 15 12C15 10.3431 13.6569 9 12 9C10.3431 9 9 10.3431 9 12C9 13.6569 10.3431 15 12 15Z" stroke="#292D32" stroke-width="1.5" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M2 12.8799V11.1199C2 10.0799 2.85 9.21994 3.9 9.21994C5.71 9.21994 6.45 7.93994 5.54 6.36994C5.02 5.46994 5.33 4.29994 6.24 3.77994L7.97 2.78994C8.76 2.31994 9.78 2.59994 10.25 3.38994L10.36 3.57994C11.26 5.14994 12.74 5.14994 13.65 3.57994L13.76 3.38994C14.23 2.59994 15.25 2.31994 16.04 2.78994L17.77 3.77994C18.68 4.29994 18.99 5.46994 18.47 6.36994C17.56 7.93994 18.3 9.21994 20.11 9.21994C21.15 9.21994 22.01 10.0699 22.01 11.1199V12.8799C22.01 13.9199 21.16 14.7799 20.11 14.7799C18.3 14.7799 17.56 16.0599 18.47 17.6299C18.99 18.5399 18.68 19.6999 17.77 20.2199L16.04 21.2099C15.25 21.6799 14.23 21.3999 13.76 20.6099L13.65 20.4199C12.75 18.8499 11.27 18.8499 10.36 20.4199L10.25 20.6099C9.78 21.3999 8.76 21.6799 7.97 21.2099L6.24 20.2199C5.33 19.6999 5.02 18.5299 5.54 17.6299C6.45 16.0599 5.71 14.7799 3.9 14.7799C2.85 14.7799 2 13.9199 2 12.8799Z" stroke="#292D32" stroke-width="1.5" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                        <span data-i18n="config">Control Panel</span>
                    </h2>
                </div>

                <div class="sheet-config">
                    <div class="section-title">
                        <svg width="16" height="16" viewBox="0 0 32 32" version="1.1" xmlns="http://www.w3.org/2000/svg">
                            <path d="M3 4v25h25v-25h-25zM11 28h-7v-17h7v17zM27 28h-15v-8h15v8zM27 19h-15v-8h15v8zM27 10h-23v-5h23v5z"></path>
                        </svg>
                        <h3 id="sheet-config-title" data-i18n="sheet">Sheet Configuration</h3>
                    </div>
                    <div class="config-grid">
                        <div class="input-group">
                            <label for="sheet-width" id="sheet-width-label">
                                <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"/>
                                </svg>
                                <span data-i18n="sheet_width">Width (mm)</span>
                            </label>
                            <input type="number" id="sheet-width" value="2440" min="10" max="10000" step="1" class="form-input">
                        </div>
                        <div class="input-group">
                            <label for="sheet-height" id="sheet-height-label">
                                <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"/>
                                </svg>
                                <span data-i18n="sheet_height">Height (mm)</span>
                            </label>
                            <input type="number" id="sheet-height" value="1220" min="10" max="10000" step="1" class="form-input">
                        </div>
                        <div class="input-group">
                            <label for="kerf-width" id="kerf-width-label">
                                <svg width="14" height="14" viewBox="0 0 32 32" fill="none" stroke="currentColor" stroke-width="2">
                                    <style type="text/css">
                                        .blueprint_een{fill:#111918;}
                                    </style>
                                    <path class="blueprint_een" d="M31.292,9.292l-6.585-6.585c-0.391-0.391-1.024-0.391-1.414,0l-9.586,9.586
                                        c-0.391,0.391-0.391,1.024,0,1.414L15,15L0,30c0,0,13.911-3.864,17.274-4.798C17.705,25.082,18,24.69,18,24.243V20l1-1l1.292,1.301
                                        c0.39,0.393,1.026,0.394,1.417,0.002l9.583-9.596C31.683,10.316,31.683,9.683,31.292,9.292z M16,19.172v4.308
                                        c-2.014,0.559-5.78,1.606-9.21,2.558l10.331-10.331l1.171,1.171L16,19.172z M21,18.172L15.828,13l2.293-2.293l5.172,5.172L21,18.172
                                        z M24,15.172L18.828,10l5.249-5.249l5.111,5.232L24,15.172z"/>
                                </svg>
                                <span data-i18n="cut_width">Kerf (mm)</span>
                            </label>
                            <input type="number" id="kerf-width" value="3" min="0" max="20" step="0.1" class="form-input">
                        </div>
                        <div class="input-group">
                            <label for="algorithm" id="algorithm-label">
                                <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M9 12l2 2 4-4"/>
                                    <circle cx="12" cy="12" r="10"/>
                                </svg>
                                <span data-i18n="algorithm">Algorithm</span>
                            </label>
                            <select id="algorithm" class="form-input">
                                <option value="maxrects" data-i18n="algorithm_maxrects">MaxRects (Recommended)</option>
                                <option value="guillotine" data-i18n="algorithm_guillotine">Guillotine</option>
                                <option value="bottom_left" data-i18n="algorithm_bottom_left">Bottom-Left</option>
                                <option value="best_fit" data-i18n="algorithm_best_fit">Best Fit</option>
                            </select>
                        </div>
                    </div>
                </div>

                <div class="divider"></div>

                <div class="piece-input">
                    <div class="section-title">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M12 5v14M5 12h14"/>
                        </svg>
                        <h3 id="piece-input-title" data-i18n="add_piece">Add Pieces</h3>
                    </div>
                    
                    <div class="piece-form-container">
                        <div class="input-grid">
                            <div class="input-group">
                                <label for="piece-name" id="piece-name-label">
                                    <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
                                    </svg>
                                    <span data-i18n="piece_name">Name (Optional)</span>
                                </label>
                                <input type="text" id="piece-name" class="form-input" data-i18n-placeholder="piece_name_placeholder" placeholder="e.g., Table Top, Shelf">
                            </div>
                            
                            <div class="input-group">
                                <label for="piece-width" id="piece-width-label">
                                    <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <path d="M5 12h14"/>
                                    </svg>
                                    <span data-i18n="piece_width">Width (mm)</span>
                                </label>
                                <input type="number" id="piece-width" min="1" max="10000" step="1" class="form-input" placeholder="500">
                            </div>
                            
                            <div class="input-group">
                                <label for="piece-height" id="piece-height-label">
                                    <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <path d="M12 5v14"/>
                                    </svg>
                                    <span data-i18n="piece_height">Height (mm)</span>
                                </label>
                                <input type="number" id="piece-height" min="1" max="10000" step="1" class="form-input" placeholder="300">
                            </div>
                            
                            <div class="input-group">
                                <label for="piece-quantity" id="piece-quantity-label">
                                    <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <path d="M7 13l3 3 7-7"/>
                                        <path d="M13 17h8m0-8V9a2 2 0 0 0-2-2H9a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2z"/>
                                    </svg>
                                    <span data-i18n="quantity">Quantity</span>
                                </label>
                                <input type="number" id="piece-quantity" value="1" min="1" max="1000" step="1" class="form-input">
                            </div>
                        </div>
                        
                        <div class="piece-preview">
                            <div class="preview-container">
                                <div class="preview-label">
                                    <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/>
                                        <circle cx="12" cy="12" r="3"/>
                                    </svg>
                                    <span data-i18n="pre">Preview</span>
                                </div>
                                <div id="piece-preview" class="piece-visual">
                                    <div class="preview-placeholder">
                                        <svg width="24" height="24" viewBox="0 0 32 32" version="1.1" xmlns="http://www.w3.org/2000/svg">
                                            <path d="M3 4v25h25v-25h-25zM11 28h-7v-17h7v17zM27 28h-15v-8h15v8zM27 19h-15v-8h15v8zM27 10h-23v-5h23v5z"></path>
                                        </svg>
                                        <span data-i18n="enter_dimensions">Enter dimensions</span>
                                    </div>
                                </div>
                                <div id="preview-info" class="preview-info hidden">
                                    <div class="info-item">
                                        <span class="label">Area:</span>
                                        <span id="piece-area">0 m²</span>
                                    </div>
                                    <div class="info-item">
                                        <span class="label">Ratio:</span>
                                        <span id="piece-ratio">1:1</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="form-actions">
                            <div class="quick-add-section">
                                <div class="quick-add-label">
                                    <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <circle cx="12" cy="12" r="3"/>
                                        <path d="M12 1v6m0 6v6m11-7h-6m-6 0H1"/>
                                    </svg>
                                    <span data-i18n="quick_add">Quick Add:</span>
                                </div>
                                <div class="quick-add-buttons">
                                    <button type="button" class="btn btn-outline btn-sm quick-add-btn" data-width="600" data-height="400">
                                        600×400
                                    </button>
                                    <button type="button" class="btn btn-outline btn-sm quick-add-btn" data-width="800" data-height="600">
                                        800×600
                                    </button>
                                    <button type="button" class="btn btn-outline btn-sm quick-add-btn" data-width="1000" data-height="500">
                                        1000×500
                                    </button>
                                    <button type="button" class="btn btn-outline btn-sm quick-add-btn" data-width="1200" data-height="800">
                                        1200×800
                                    </button>
                                    <button type="button" class="btn btn-outline btn-sm quick-add-btn" data-width="400" data-height="300">
                                        400×300
                                    </button>
                                    <button type="button" class="btn btn-outline btn-sm quick-add-btn" data-width="300" data-height="200">
                                        300×200
                                    </button>
                                </div>
                            </div>
                            
                            <div class="add-actions-row">
                                <div class="swap-section">
                                    <button type="button" id="swap-dimensions" class="btn btn-secondary btn-sm" title="Swap width and height">
                                        <svg width="16" height="16" viewBox="0 0 32 32" version="1.1" xmlns="http://www.w3.org/2000/svg">
                                        <path d="M0 30.016v-8q0-0.832 0.576-1.408t1.44-0.608h8q0.8 0 1.408 0.608t0.576 1.408v8q0 0.832-0.576 1.408t-1.408 0.576h-8q-0.832 0-1.44-0.576t-0.576-1.408zM0.032 10.368q-0.096-0.608 0.128-1.152t0.704-0.864 1.152-0.352h1.984q0-2.464 1.76-4.224t4.256-1.76h4q0.704 0 1.216 0.416t0.64 0.992 0 1.184-0.64 0.992-1.216 0.416h-4q-0.832 0-1.44 0.576t-0.576 1.408h2.016q0.64 0 1.152 0.384t0.704 0.864 0.096 1.12-0.544 1.056l-4 4q-0.64 0.608-1.44 0.608t-1.376-0.608l-4-4q-0.48-0.448-0.576-1.056zM4 28h4v-4h-4v4zM16.128 28.608q-0.096-0.608 0-1.184t0.64-0.992 1.248-0.416h4q0.8 0 1.408-0.576t0.576-1.44h-1.984q-0.672 0-1.184-0.352t-0.704-0.896-0.096-1.12 0.576-1.024l4-4q0.608-0.608 1.408-0.608t1.408 0.576l4 4q0.48 0.48 0.576 1.088t-0.16 1.12-0.704 0.864-1.12 0.352h-2.016q0 2.496-1.76 4.256t-4.224 1.76h-4q-0.736 0-1.248-0.416t-0.64-0.992zM20 10.016v-8q0-0.832 0.576-1.408t1.44-0.608h8q0.8 0 1.408 0.608t0.576 1.408v8q0 0.832-0.576 1.408t-1.408 0.576h-8q-0.832 0-1.44-0.576t-0.576-1.408zM24 8h4v-4h-4v4z"></path>
                                        </svg>
                                    </button>
                                </div>
                                <button id="add-piece" class="btn btn-primary btn-add-piece" disabled>
                                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <path d="M12 5v14M5 12h14"/>
                                    </svg>
                                    <span id="add-piece-text" data-i18n="add_piece_button">Add Piece</span>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="divider"></div>

                <div class="piece-list-section">
                    <div class="section-header">
                        <div class="section-title">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M9 12l2 2 4-4"/>
                                <circle cx="12" cy="12" r="10"/>
                            </svg>
                            <h3 id="pieces-list-title" data-i18n="piece_list">Pieces List</h3>
                        </div>
                        <div class="action-buttons">
                            <button id="clear-pieces" class="btn btn-secondary btn-sm">
                                <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M3 6h18M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6m3 0V4c0-1 1-2 2-2h4c0-1 1-2 2-2v2"/>
                                    <path d="M10 11v6M14 11v6"/>
                                </svg>
                                <span id="clear-pieces-text" data-i18n="clear_all">Clear All</span>
                            </button>
                        </div>
                    </div>
                    
                    <div class="pieces-container">
                        <div id="pieces-list" class="pieces-list">
                            <div class="empty-state">
                                <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <rect x="9" y="9" width="13" height="13" rx="2" ry="2"/>
                                    <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/>
                                </svg>
                                <p>No pieces added yet</p>
                                <small>Add pieces using the form above</small>
                            </div>
                        </div>
                        <div id="pieces-summary" class="pieces-summary hidden"></div>
                        
                        <div class="calculate-section">
                            <button id="calculate" class="btn btn-primary btn-calculate" disabled>
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M9 12l2 2 4-4"/>
                                    <circle cx="12" cy="12" r="10"/>
                                </svg>
                                <span id="calculate-text" data-i18n="calculate">Calculate Layout</span>
                            </button>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Results Panel -->
            <section class="results-panel">
                <div class="results-header">
                    <div class="results-title-section">
                        <svg width="16" height="16" viewBox="0 0 32 32" version="1.1" xmlns="http://www.w3.org/2000/svg">
                            <path d="M3 4v25h25v-25h-25zM11 28h-7v-17h7v17zM27 28h-15v-8h15v8zM27 19h-15v-8h15v8zM27 10h-23v-5h23v5z"></path>
                        </svg>
                        <h2 id="results-title" data-i18n="layout">Layout Results</h2>
                    </div>
                    <div class="layout-actions">
                        <div class="view-controls">
                            <button class="btn btn-secondary btn-sm" id="zoom-fit" disabled title="Fit to screen">
                                <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"/>
                                </svg>
                            </button>
                        </div>
                        <div class="export-actions">
                            <button id="print-layout" class="btn btn-secondary" disabled>
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <polyline points="6,9 6,2 18,2 18,9"/>
                                    <path d="M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"/>
                                    <rect x="6" y="14" width="12" height="8"/>
                                </svg>
                                <span id="print-text" data-i18n="print">Print</span>
                            </button>
                            <button id="export-pdf" class="btn btn-primary" disabled>
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
                                    <polyline points="14,2 14,8 20,8"/>
                                    <line x1="16" y1="13" x2="8" y2="13"/>
                                    <line x1="16" y1="17" x2="8" y2="17"/>
                                    <polyline points="10,9 9,9 8,9"/>
                                </svg>
                                <span id="export-pdf-text" data-i18n="pdf">Export PDF</span>
                            </button>
                        </div>
                    </div>
                </div>
                
                <div id="loading" class="loading hidden">
                    <div class="loading-content">
                        <div class="spinner"></div>
                        <div class="loading-text">
                            <span id="loading-text">Calculating optimal layout...</span>
                            <div class="loading-progress">
                                <div class="progress-bar">
                                    <div class="progress-fill"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div id="results-summary" class="results-summary hidden">
                    <div class="stats-grid">
                        <div class="stat-item">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <rect x="3" y="3" width="18" height="18" rx="2" ry="2"/>
                            </svg>
                            <div class="stat-content">
                                <span class="stat-label">Sheets Used</span>
                                <span class="stat-value" id="stat-sheets">-</span>
                            </div>
                        </div>
                        <div class="stat-item">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M12 2v6.5l3 1.5-3 1.5V18"/>
                            </svg>
                            <div class="stat-content">
                                <span class="stat-label">Material Used</span>
                                <span class="stat-value" id="stat-used">-%</span>
                            </div>
                        </div>
                        <div class="stat-item">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M3 12h6m0 0V6m0 6v6m6-6h6"/>
                            </svg>
                            <div class="stat-content">
                                <span class="stat-label">Waste</span>
                                <span class="stat-value" id="stat-waste">-%</span>
                            </div>
                        </div>
                        <div class="stat-item">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M9 12l2 2 4-4"/>
                                <circle cx="12" cy="12" r="10"/>
                            </svg>
                            <div class="stat-content">
                                <span class="stat-label">Efficiency</span>
                                <span class="stat-value" id="stat-efficiency">-%</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div id="layout-container" class="layout-container">
                    <!-- Layout Controls -->
                    <div class="layout-controls hidden" id="layout-controls">
                        <div class="control-buttons">
                            <button class="control-btn" id="zoom-in-btn" title="Zoom In">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <circle cx="11" cy="11" r="8"/>
                                    <path d="M21 21l-4.35-4.35"/>
                                    <path d="M11 8v6"/>
                                    <path d="M8 11h6"/>
                                </svg>
                                <span>Zoom In</span>
                            </button>
                            <button class="control-btn" id="zoom-out-btn" title="Zoom Out">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <circle cx="11" cy="11" r="8"/>
                                    <path d="M21 21l-4.35-4.35"/>
                                    <path d="M8 11h6"/>
                                </svg>
                                <span>Zoom Out</span>
                            </button>
                            <button class="control-btn" id="fit-screen-btn" title="Fit to Screen">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"/>
                                </svg>
                                <span>Fit</span>
                            </button>
                            <button class="control-btn" id="fullscreen-btn" title="Fullscreen">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"/>
                                    <path d="M3 3l18 18"/>
                                </svg>
                                <span>Full</span>
                            </button>
                        </div>
                    </div>
                    
                    <div id="no-results" class="no-results">
                        <div class="no-results-content">
                            <svg width="128" height="128" viewBox="0 0 32 32" version="1.1" xmlns="http://www.w3.org/2000/svg">
                                <path d="M3 4v25h25v-25h-25zM11 28h-7v-17h7v17zM27 28h-15v-8h15v8zM27 19h-15v-8h15v8zM27 10h-23v-5h23v5z"></path>
                            </svg>
                            <h3>Ready to Optimize</h3>
                            <p id="no-results-text">Add pieces and calculate to see the optimized cutting layout</p>
                            <div class="no-results-steps">
                                <div class="step">
                                    <span class="step-number">1</span>
                                    <span>Configure sheet dimensions</span>
                                </div>
                                <div class="step">
                                    <span class="step-number">2</span>
                                    <span>Add pieces to cut</span>
                                </div>
                                <div class="step">
                                    <span class="step-number">3</span>
                                    <span>Calculate optimal layout</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <script src="jspdf.umd.min.js"></script>
    <script src="svg2pdf.js/dist/svg2pdf.umd.min.js"></script>
    <script src="app.js"></script>
</body>
</html>


